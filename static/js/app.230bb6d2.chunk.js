(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{525:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var a=n(4),r=n.n(a),o=n(18),c=n.n(o),l=(n(765),n(0)),s=n.n(l),i=n(788),u=n(503),m=n(119),f=Object(l.createContext)({intradayStocks:[],setIntradayStocks:function(e){},swingStocks:[],setSwingStocks:function(e){},selectedStock:null,setSelectedStock:function(e){},config:null,setConfig:function(e){},savedTrade:[],setSavedTrade:function(e){}}),d=function(e){var t=e.children,n=Object(l.useState)([]),a=c()(n,2),r=a[0],o=a[1],i=Object(l.useState)(),u=c()(i,2),m=u[0],d=u[1],y=Object(l.useState)([]),b=c()(y,2),g=b[0],j=b[1],p=Object(l.useState)(),E=c()(p,2),h=E[0],v=E[1],S=Object(l.useState)([]),O=c()(S,2),x=O[0],w=O[1];return s.a.createElement(f.Provider,{value:{intradayStocks:r,setIntradayStocks:o,selectedStock:h,setSelectedStock:v,swingStocks:g,setSwingStocks:j,config:m,setConfig:d,savedTrade:x,setSavedTrade:w}},t)},y=n(20),b=n.n(y),g=n(3),j=n.n(g),p=n(790),E=n(52),h=n(142),v=n(14),S=n(159),O=n(74),x=n.n(O);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=E.a.manifest.extra.apiUrl,T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return x.a.get(P+"/notifications?type="+e+(t?"&limit="+n+"&offSet="+t:"")).then((function(e){return e.data}))},C=function(e){return console.log(P+"/registerPush"),x.a.post(P+"/registerPush",{expoPushToken:e})},L=function(e){return x.a.post(P+"/swing/v2/execute",k({},e))},I=function(){Object(l.useEffect)((function(){d().then((function(e){console.log("Registered completed")})),p.a.addListener(y)}),[]);var e=Object(l.useState)(""),t=c()(e,2),n=(t[0],t[1]),a=Object(l.useState)({}),r=c()(a,2),o=r[0],s=r[1],i=Object(l.useContext)(f),u=i.setIntradayStocks,m=i.setSwingStocks,d=function(){var e,t,a,r,o,c;return j.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,!E.a.isDevice){l.next=26;break}return l.next=4,j.a.awrap(h.c(h.a));case 4:if(e=l.sent,t=e.status,a=t,"granted"===t){l.next=13;break}return l.next=10,j.a.awrap(h.b(h.a));case 10:r=l.sent,o=r.status,a=o;case 13:if("granted"===a){l.next=16;break}return alert("Failed to get push token for push notification!"),l.abrupt("return");case 16:return l.next=18,j.a.awrap(p.a.getExpoPushTokenAsync());case 18:return c=l.sent,console.log(c),n(c),l.next=23,j.a.awrap(C(c).catch((function(e){alert("Failed to register push notifications.")})));case 23:console.log("Registered for push notificatios"),l.next=27;break;case 26:alert("Must use physical device for Push Notifications");case 27:"android"===v.a.OS&&p.a.createChannelAndroidAsync("default",{name:"default",sound:!0,priority:"max",vibrate:[0,250,250,250,0,250,250,250]}),l.next=33;break;case 30:l.prev=30,l.t0=l.catch(0),console.log(JSON.stringify(l.t0,null,2));case 33:case"end":return l.stop()}}),null,null,[[0,30]],Promise)},y=function(e){S.a.vibrate(3),console.log(e),s(e)};return Object(l.useEffect)((function(){o&&o.data&&(o.data.data&&"swing"===o.data.data.type?m((function(e){return[o.data.data].concat(b()(e))})):u((function(e){return[o.data.data].concat(b()(e))})))}),[o]),null},D=n(462),A=n(789),z=n(5),F=n(492),R=n(7),B=n.n(R),q=n(55),V=n(8),M=n(106),N=n(43),Q=function(e){var t=e.stocks,n=e.fetchData,a=Object(N.useNavigation)(),r=Object(l.useContext)(f).setSelectedStock,o=Object(l.useState)(!1),i=c()(o,2),m=i[0],d=i[1];return s.a.createElement(z.Container,null,s.a.createElement(z.Content,{refreshControl:s.a.createElement(M.a,{refreshing:m,onRefresh:function(){d(!0),n(),d(!1)}})},s.a.createElement(z.List,null,t&&t.map((function(e,t){return s.a.createElement(z.ListItem,{key:t},e&&s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Left,null,s.a.createElement(q.a,{onPress:function(){r(e),a.navigate("Stock")}},s.a.createElement(z.Text,null,e.goodOne&&e.valid&&s.a.createElement(u.a,{name:"md-thumbs-up",size:24})," ",s.a.createElement(z.Text,{style:{color:"DOWN"===e.trend?"red":"green",fontSize:20}},e.symbol),e.currentPrice,"\n",s.a.createElement(z.Text,{style:{fontSize:12}},"on ",B()(e.createDt).format("DD MMM YYYY h:mm a"))," ","\n",!e.valid&&e.invalidReason&&s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Text,{style:{color:"red"}},e.invalidReason))))),s.a.createElement(z.Right,null,(e.lastCandelIsGreen&&"UP"===e.trend||!e.lastCandelIsGreen&&"DOWN"===e.trend)&&s.a.createElement(F.a,{name:"sliders",size:24,color:"black"}))))})))))},H=(V.a.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},openButton:{backgroundColor:"#F194FF",borderRadius:20,padding:10,elevation:2},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),function(){var e=Object(l.useContext)(f),t=e.intradayStocks,n=e.setIntradayStocks,a=Object(l.useState)(!1),r=c()(a,2),o=r[0],i=r[1],u=function(){i(!0),T("intraday").then((function(e){console.log("Data",e.data),e&&n(e.data)})).finally((function(){return i(!1)}))};return Object(l.useEffect)((function(){u()}),[]),s.a.createElement(z.View,{style:{width:"100%"}},o?s.a.createElement(z.Spinner,{color:"blue"}):s.a.createElement(Q,{stocks:t,fetchData:u}))}),Y=function(e){var t=e.navigation,n={margin:10};return s.a.createElement(z.Container,null,s.a.createElement(z.View,{style:{height:"100%"}},s.a.createElement(z.View,{style:{flexDirection:"row",justifyContent:"center"}},s.a.createElement(z.Button,{style:n,onPress:function(){t.navigate("Swing")}},s.a.createElement(z.Text,null,"Swing")),s.a.createElement(z.Button,{style:n,onPress:function(){t.navigate("Logs")}},s.a.createElement(z.Text,null,"Intraday Logs")),s.a.createElement(z.Button,{style:n,onPress:function(){t.navigate("Slots")}},s.a.createElement(z.Text,null,"Slots"))),s.a.createElement(z.View,{style:{flexDirection:"row",flexGrow:1,justifyContent:"center"}},s.a.createElement(H,null))))},_=n(32),U=n.n(_),W=n(524),G=n(191),J=n(45);function X(e,t){var n;if("undefined"===typeof Symbol||null==e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e["function"===typeof Symbol?Symbol.iterator:"@@iterator"]()).next.bind(n)}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Z=function(e){var t=e.stock,n=Object(l.useState)(!0),a=c()(n,2),r=(a[0],a[1]),o=Object(l.useState)({labels:["1","2","3","4","5"],datasets:[{data:[0,0,0,0]}]}),i=c()(o,2),u=i[0],m=i[1],f=Object(l.useState)({labels:["1","2","3","4","5"],datasets:[{data:[0,0,0,0]}]}),d=c()(f,2),y=d[0],g=d[1],p={options:{chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:[1,2,3,4]}}},E=Object(l.useState)({labels:["Avarage","Allowed","Today"],datasets:[{data:[0,0,0]}]}),h=c()(E,2),v=h[0],S=h[1];Object(l.useEffect)((function(){!function(){var e,n,a,o,c,l,s,i,u,f,d,y,p,E,h,v,O;j.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:if(t){for(r(!1),e=t.highestHigh,n=t.lowestLow,a=t.high,o=t.low,c=t.highestHighIndex,l=t.lowestLowIndex,s=t.highIndex,i=t.lowIndex,u=t.currentPrice,f=t.trend,d=t.trendLine,y=[c,l,s,i],Math.min.apply(Math,b()(y)),Math.max.apply(Math,b()(y)),y=y.sort((function(e,t){return e-t})),p=[],E=X(y);!(h=E()).done;)v=h.value,c===v?p.push(e):l===v?p.push(n):i===v?p.push(o):s===v&&p.push(a);p.push(u),O=["LL("+n+")","H("+a+")","L("+o+")","HH("+e+")","C("+u+")"],"DOWN"===f&&(O=["HH ("+e+")","L ("+o+")","H ("+a+")","LL ("+n+")","Current ("+u+")"]),m({labels:O,datasets:[{data:p}]}),g({labels:O,datasets:[{data:d}]}),S({labels:["Avarage ("+t.avgCandelSize+")","Allowed ("+t.allowedCandelSize+")","Today ("+t.todayCandelSize+")"],datasets:[{data:[t.avgCandelSize,t.allowedCandelSize,t.todayCandelSize]}]})}case 1:case"end":return j.stop()}}),null,null,null,Promise)}()}),[t]);var O={backgroundColor:"red",backgroundGradientFrom:"#05052F",backgroundGradientTo:"#FFF",decimalPlaces:2,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},labelColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"rgba(255, 255, 255, "+e+")"},style:{borderRadius:5},propsForDots:{r:"2",strokeWidth:"2",stroke:"#fff"}};return s.a.createElement(z.View,{style:{flex:1,flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap",padding:10}},"priceaction"!==t.type&&s.a.createElement(G.a,{style:{marginVertical:8,borderRadius:5},fromZero:!0,data:v,width:J.a.get("window").width-15,height:220,chartConfig:O}),p&&u&&s.a.createElement(G.b,{data:u,width:J.a.get("window").width-15,height:220,yAxisLabel:"\u20b9",yAxisSuffix:"",yAxisInterval:1,chartConfig:O,style:{marginVertical:8,borderRadius:5}}),p&&y&&s.a.createElement(G.b,{data:y,width:J.a.get("window").width-15,height:220,yAxisLabel:"\u20b9",yAxisSuffix:"",yAxisInterval:1,chartConfig:O,style:{marginVertical:8,borderRadius:5}}))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){e.navigation;var t=Object(l.useContext)(f),n=t.selectedStock,a=(t.setSelectedStock,t.config),o=t.setSavedTrade,i=t.savedTrade,u=Object(l.useState)("CHART"),m=c()(u,2),d=m[0],y=m[1],g=Object(l.useState)({quantity:0,buyCost:0,slCost:0,targetCost:0,expectedProfit:0,maximumLoss:0}),p=c()(g,2),E=p[0],h=p[1],v=Object(l.useState)({buyPrice:n.currentPrice,stoploss:n.currentPrice,target:n.currentPrice}),S=c()(v,2),O=S[0],w=S[1],T=Object(l.useState)(!1),C=c()(T,2),L=C[0],I=C[1],D=Object(l.useState)({status:"PENDING"}),A=c()(D,2),F=A[0],R=A[1],B=function(e){var t=e.quantity,n=e.buyPrice,r=e.stoploss,o=e.target;if(!e.freezeQty1){var c=Math.abs(n-r),l=a.intradayRiskAmount;c&&(t=Math.round(l/c))}var s=n*t,i=r*t,u=o*t,m="up";n>o&&(m="down");var f=u-s,d=s-i;"down"===m&&(f=s-u,d=i-s),h({quantity:t,buyCost:s,slCost:i,targetCost:u,expectedProfit:f,maximumLoss:d})},q=Object(l.useState)(!1),V=c()(q,2),M=V[0],N=V[1];Object(l.useEffect)((function(){var e=E.quantity;B(ee(ee({quantity:e},O),{},{freezeQty1:L}))}),[O]),Object(l.useEffect)((function(){var e=i&&i.find((function(e){return e.symbol===n.symbol}));if(e){e.symbol;var t=e.freezeQty,a=e.orderInfo,r=U()(e,["symbol","freezeQty","orderInfo"]);t,I(t),R(a),w((function(){return{buyPrice:r.buyPrice,stoploss:r.stoploss,target:r.target}})),h({quantity:r.quantity})}else if(n.tradeInfo){var o=n.tradeInfo,c=o.orderPrice,l=o.sl1,s=o.target;w((function(){return{buyPrice:c,stoploss:l,target:s}}))}}),[]);var Q=function(e,t,a){var r=i&&i.filter((function(e){return e.symbol!==n.symbol})),c=[ee(ee({},e),{},{freezeQty:t,quantity:E.quantity,symbol:n.symbol,orderInfo:a})].concat(b()(r));o(c)};return s.a.createElement(z.Container,null,s.a.createElement(z.Header,null,s.a.createElement(z.Body,null,s.a.createElement(z.Text,{style:{color:"#fff",fontSize:20}},n.symbol)),s.a.createElement(z.Right,null,s.a.createElement(z.Segment,null,s.a.createElement(z.Button,{active:"CHART"===d,first:!0,onPress:function(){return y("CHART")}},s.a.createElement(z.Text,null,"Charts")),s.a.createElement(z.Button,{active:"CALC"===d,last:!0,onPress:function(){return y("CALC")}},s.a.createElement(z.Text,null,"Calc"))))),s.a.createElement(z.Content,null,"CHART"===d&&s.a.createElement(z.View,null,null!==n&&s.a.createElement(s.a.Fragment,null,s.a.createElement(Z,{stock:n}))),"CALC"===d&&s.a.createElement(z.View,null,s.a.createElement(z.Content,{style:{padding:20}},s.a.createElement(W.a,{initialValues:O,validate:function(e){var t={};return e.buyPrice||(t.buyPrice="Required"),e.stoploss||(t.stoploss="Required"),t},onSubmit:function(e,t){var n=t.setSubmitting;setTimeout((function(){w((function(){return e})),n(!1)}),400)}},(function(e){var t=e.values,a=e.errors,o=e.touched,c=e.handleChange,l=e.handleBlur,i=(e.handleSubmit,e.isSubmitting,e.setValues),u=function(e){return function(t){return w(ee(ee({},O),{},r()({},e,t))),Q(ee(ee({},O),{},r()({},e,t)),L,F),c(e)(t)}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Form,null,s.a.createElement(z.Item,{floatingLabel:!0,last:!0},s.a.createElement(z.Label,null,"Buy Price"),s.a.createElement(z.Input,{keyboardType:"numeric",onChangeText:u("buyPrice"),onBlur:l("buyPrice"),value:t.buyPrice.toString()}),a.buyPrice&&o.buyPrice&&a.buyPrice),s.a.createElement(z.Item,{floatingLabel:!0,last:!0},s.a.createElement(z.Label,null,"Stoploss"),s.a.createElement(z.Input,{keyboardType:"numeric",onChangeText:u("stoploss"),onBlur:l("stoploss"),value:t.stoploss.toString()}),a.stoploss&&o.stoploss&&a.stoploss),s.a.createElement(z.Item,{floatingLabel:!0,last:!0},s.a.createElement(z.Label,null,"Target"),s.a.createElement(z.Input,{keyboardType:"numeric",onChangeText:u("target"),onBlur:l("target"),value:t.target.toString()}),a.target&&o.target&&a.target)),s.a.createElement(z.List,null,s.a.createElement(z.ListItem,null,s.a.createElement(z.Text,null,"Quantity:",E.quantity)),s.a.createElement(z.ListItem,null,s.a.createElement(z.Left,null,s.a.createElement(z.Text,null,"Freeze Quantity")),s.a.createElement(z.Body,null,s.a.createElement(z.Switch,{value:L,onValueChange:function(){I((function(){return!L})),B(ee(ee({},O),{},{quantity:E.quantity,freezeQty1:!L})),Q(t,!L,F)}}))),s.a.createElement(z.ListItem,null,s.a.createElement(z.Text,null,"Amount:\u20b9",E.buyCost.toFixed(2))),s.a.createElement(z.ListItem,null,s.a.createElement(z.Text,null,"Expected Profit \u20b9",E.expectedProfit.toFixed(2))),s.a.createElement(z.ListItem,null,s.a.createElement(z.Text,null,"Maximum Loss \u20b9",E.maximumLoss.toFixed(2)))),s.a.createElement(z.Button,{style:{alignSelf:"center",marginTop:20},onPress:function(){w({buyPrice:n.currentPrice,stoploss:n.currentPrice,target:n.currentPrice}),h({quantity:0,buyCost:0,slCost:0,targetCost:0,expectedProfit:0,maximumLoss:0}),I(!1),i({buyPrice:n.currentPrice,stoploss:n.currentPrice,target:n.currentPrice})}},s.a.createElement(z.Text,null,"Reset")),"PENDING"===F.status&&s.a.createElement(z.Button,{disabled:!(!M&&L),style:{alignSelf:"center",marginTop:20},onPress:function(){var e,a,r;return j.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return N(!0),e={symbol:n.symbol,transaction_type:"UP"===n.trend?"BUY":"SELL",price:+t.buyPrice,quantity:+E.quantity,sl:+t.stoploss,target:+t.target},console.log("dto",e),o.next=5,j.a.awrap((c=e,x.a.post(P+"/kite/order",k({},c))).catch((function(e){alert("Error in placing order."),N(!1)})));case 5:(a=o.sent)&&a.data&&a.data.symbol&&(alert("Order Placed."),R(r={status:"PLACED"}),Q(t,L,r)),N(!1);case 8:case"end":return o.stop()}var c}),null,null,null,Promise)}},s.a.createElement(z.Text,null,"Place Order")))}))))))},ne=function(){var e=Object(l.useContext)(f),t=(e.intradayStocks,e.swingStocks),n=(e.setIntradayStocks,e.selectedStock,e.setSelectedStock,e.setSwingStocks),a=Object(l.useState)(!1),r=c()(a,2),o=r[0],i=r[1],u=function(){i(!0),T("swing").then((function(e){console.log(e.data),e&&n(e.data)})).finally((function(){return i(!1)}))};return Object(l.useEffect)((function(){u()}),[]),s.a.createElement(s.a.Fragment,null,o?s.a.createElement(z.Spinner,{color:"blue"}):s.a.createElement(Q,{type:"swing",stocks:t,fetchData:u}))},ae=function(){var e=Object(l.useState)([]),t=c()(e,2),n=t[0],a=t[1],r=Object(l.useState)(!1),o=c()(r,2),i=o[0],u=o[1],m=function(){u(!0),T("priceaction").then((function(e){console.log(e.data),e&&a(e.data)})).finally((function(){return u(!1)}))};return Object(l.useEffect)((function(){m()}),[]),s.a.createElement(s.a.Fragment,null,i?s.a.createElement(z.Spinner,{color:"blue"}):s.a.createElement(Q,{stocks:n,fetchData:m}))},re=function(e){e.route;var t=e.navigation,n=Object(l.useState)(!1),a=c()(n,2),r=a[0],o=a[1],i=Object(l.useState)([]),u=c()(i,2),m=u[0],f=u[1],d=function(){o(!0),function(){var e=P+"/swing/v2/slots";return console.log(e),x.a.get(e).then((function(e){return e.data}))}().then((function(e){f(e)})).finally((function(){o(!1)}))};Object(l.useEffect)((function(){return t.addListener("focus",(function(){d()}))}),[t]);var y={margin:10};return s.a.createElement(z.Container,null,s.a.createElement(z.View,{style:{flex:1}},r?s.a.createElement(z.Spinner,{color:"blue"}):s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Card,null,s.a.createElement(z.CardItem,{header:!0},s.a.createElement(z.Left,null,s.a.createElement(z.Text,{style:{fontSize:20,color:"royalblue"}},"Swings Slots")),s.a.createElement(z.Right,null,s.a.createElement(z.Text,null,"Total Slots : ",function(){var e=m&&m.map((function(e){return e.noOfSlots}));return e&&e.length?e.reduce((function(e,t){return e+t})):0}(),"/10"))),s.a.createElement(z.CardItem,null,s.a.createElement(z.Body,null,s.a.createElement(z.Text,null,"Balance Amount :\u20b9",m&&m.length&&m[0].balancedAmount.toFixed(2))))),s.a.createElement(z.Content,null,s.a.createElement(z.View,{style:{flexDirection:"row",justifyContent:"center",padding:10}},s.a.createElement(z.Button,{style:y,onPress:function(){t.navigate("SlotDetails")}},s.a.createElement(z.Icon,{name:"add"})),s.a.createElement(z.Button,{style:y,onPress:function(){t.navigate("SlotTransactions")}},s.a.createElement(z.Text,null," Transactions"))),s.a.createElement(z.List,null,m&&m.map((function(e){return s.a.createElement(z.ListItem,{avatar:!0,key:e.symbol},s.a.createElement(z.Left,null),s.a.createElement(z.Body,null,s.a.createElement(z.Text,null,e.symbol),s.a.createElement(z.Text,{note:!0},"Order Price:",e.orderPrice),s.a.createElement(z.Text,{note:!0},"Invested Amount: ",e.investedAmount.toFixed(2)),e.noOfSlots>1&&s.a.createElement(z.Text,{note:!0,style:{color:"orange"}},"No of Slots:",e.noOfSlots)),s.a.createElement(z.Right,null,s.a.createElement(z.Text,{note:!0},B()(e.createdOn).format("DD/MM/YYYY hh:mm a")),s.a.createElement(z.Text,{note:!0},"Quantity:",e.qty),s.a.createElement(z.Button,{onPress:function(){t.navigate("SlotDetails",{stock:e})}},s.a.createElement(z.Text,null,"Remove"))))})))))))};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=function(e){var t=e.navigation,n=e.route,a=Object(l.useState)({symbol:"",orderPrice:"",force:!1,forceQty:"1"}),r=c()(a,2),o=r[0],i=r[1],u=n.params&&n.params.stock||null;Object(l.useEffect)((function(){u&&i(ce({},u))}),[u]);var m=Object(l.useState)(!1),f=c()(m,2),d=f[0],y=f[1];return s.a.createElement(z.Container,null,s.a.createElement(z.Content,null,s.a.createElement(z.Form,null,s.a.createElement(z.Item,{stackedLabel:!0},s.a.createElement(z.Label,null,"Symbol",o.orderPrice),s.a.createElement(z.Input,{value:o.symbol,onChangeText:function(e){return i(ce(ce({},o),{},{symbol:e}))}})),s.a.createElement(z.Item,{stackedLabel:!0},s.a.createElement(z.Label,null,"Order Price"),s.a.createElement(z.Input,{value:o.orderPrice.toString(),keyboardType:"decimal-pad",onChangeText:function(e){return i(ce(ce({},o),{},{orderPrice:e}))}})),!u&&s.a.createElement(s.a.Fragment,null,s.a.createElement(z.Item,null,s.a.createElement(z.Label,null,"Force"),s.a.createElement(z.CheckBox,{checked:o.force,onPress:function(){i(ce(ce({},o),{},{force:!o.force}))}})),o.force&&s.a.createElement(z.Item,{stackedLabel:!0,last:!0},s.a.createElement(z.Label,null,"Quantity"),s.a.createElement(z.Input,{value:o.forceQty.toString(),keyboardType:"number-pad",onChangeText:function(e){return i(ce(ce({},o),{},{forceQty:e}))}})))),s.a.createElement(z.Button,{style:{alignSelf:"center",marginTop:20},onPress:function(){var e,n,a;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(y(!0),!u){r.next=8;break}return r.next=4,j.a.awrap((c={symbol:o.symbol,orderPrice:+o.orderPrice},x.a.post(P+"/swing/v2/executeOut",k({},c))).finally((function(){return y(!1)})));case 4:return e=r.sent,"EXECUTED"===e.data.resCode&&(t.navigate("Slots"),z.Toast.show({text:"Successfully removed.",buttonText:"Okay",type:"success"})),r.abrupt("return");case 8:return r.next=10,j.a.awrap(L({symbol:o.symbol,orderPrice:+o.orderPrice,force:o.force,forceQty:+o.forceQty}).finally((function(){return y(!1)})));case 10:n=r.sent,"SLOTS_ARE_FULL"===(a=n.data.resCode)?z.Toast.show({text:"Slots are full.",buttonText:"Okay",type:"warning"}):"STOCK_ALREADY_EXISTS"===a?z.Toast.show({text:"Stocky already exists.",buttonText:"Okay",type:"warning"}):"AMOUNT_IS_NOT_AVAILABLE"===a?z.Toast.show({text:"Ammount is not availble",buttonText:"Okay",type:"warning"}):(t.navigate("Slots"),z.Toast.show({text:"Successfully added.",buttonText:"Okay",type:"success"}));case 14:case"end":return r.stop()}var c}),null,null,null,Promise)}},d&&s.a.createElement(z.Spinner,{color:"white",style:{marginLeft:10}}),s.a.createElement(z.Text,null,"Submit"))))},se=function(e){e.route;var t=e.navigation,n=Object(l.useState)([]),a=c()(n,2),r=a[0],o=a[1],i=Object(l.useState)(!1),u=c()(i,2),m=u[0],f=u[1],d=function(){f(!0),x.a.get(P+"/swing/v2/transactions").then((function(e){return e.data})).then((function(e){o(e)})).finally((function(){f(!1)}))};return Object(l.useEffect)((function(){return t.addListener("focus",(function(){d()}))}),[t]),s.a.createElement(z.Container,null,s.a.createElement(z.View,{style:{flex:1}},m&&s.a.createElement(z.Spinner,{color:"blue"}),s.a.createElement(z.Content,null,s.a.createElement(z.List,null,r&&r.length>0&&r.sort((function(e,t){return new Date(t.date).getTime()>new Date(e.date).getTime()?1:-1})).map((function(e){return s.a.createElement(z.ListItem,{avatar:!0,key:e.symbol+e.type+e.qty+e.orderPrice+e.createdOn},s.a.createElement(z.Left,null),s.a.createElement(z.Body,null,s.a.createElement(z.Text,{style:{color:"IN"===e.type?"green":"red"}},e.symbol),s.a.createElement(z.Text,{note:!0},"Type:",e.type),s.a.createElement(z.Text,{note:!0},"Order Price:",e.orderPrice),e.investedAmount&&s.a.createElement(z.Text,{note:!0},"Invested Amount: ",e.investedAmount.toFixed(2)),s.a.createElement(z.Text,{note:!0},"Balanced Amount: ",e.balancedAmount.toFixed(2))),s.a.createElement(z.Right,null,s.a.createElement(z.Text,{note:!0},B()(e.createdOn).format("DD/MM/YYYY hh:mm a")),s.a.createElement(z.Text,{note:!0},"Quantity:",e.qty)))}))))))},ie=Object(A.a)(),ue=function(){var e=Object(l.useContext)(f).setConfig;return Object(l.useEffect)((function(){x.a.get(P+"/appConfig").then((function(e){return e.data})).then((function(t){e(t)}))}),[]),s.a.createElement(D.a,null,s.a.createElement(ie.Navigator,{initialRouteName:"Home"},s.a.createElement(ie.Screen,{name:"Home",component:Y}),s.a.createElement(ie.Screen,{name:"Stock",component:te}),s.a.createElement(ie.Screen,{name:"Intraday",component:H}),s.a.createElement(ie.Screen,{name:"Swing",component:ne}),s.a.createElement(ie.Screen,{name:"Logs",component:ae}),s.a.createElement(ie.Screen,{name:"Slots",component:re}),s.a.createElement(ie.Screen,{name:"SlotDetails",component:le}),s.a.createElement(ie.Screen,{name:"SlotTransactions",component:se})))};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(){var e=Object(l.useState)(!1),t=c()(e,2),a=t[0],o=t[1];return Object(l.useEffect)((function(){m.b(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Roboto:n(763),Roboto_medium:n(764)},u.a.font)).then((function(e){o(!0)}))})),s.a.createElement(z.Root,null,a?s.a.createElement(d,null,s.a.createElement(I,null),s.a.createElement(ue,null)):s.a.createElement(i.a,null))}},535:function(e,t,n){n(536),n(537),e.exports=n(766)},536:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/nextwebps/expo-service-worker.js",{scope:"/nextwebps/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},745:function(e,t,n){var a={"./af":311,"./af.js":311,"./ar":312,"./ar-dz":313,"./ar-dz.js":313,"./ar-kw":314,"./ar-kw.js":314,"./ar-ly":315,"./ar-ly.js":315,"./ar-ma":316,"./ar-ma.js":316,"./ar-sa":317,"./ar-sa.js":317,"./ar-tn":318,"./ar-tn.js":318,"./ar.js":312,"./az":319,"./az.js":319,"./be":320,"./be.js":320,"./bg":321,"./bg.js":321,"./bm":322,"./bm.js":322,"./bn":323,"./bn.js":323,"./bo":324,"./bo.js":324,"./br":325,"./br.js":325,"./bs":326,"./bs.js":326,"./ca":327,"./ca.js":327,"./cs":328,"./cs.js":328,"./cv":329,"./cv.js":329,"./cy":330,"./cy.js":330,"./da":331,"./da.js":331,"./de":332,"./de-at":333,"./de-at.js":333,"./de-ch":334,"./de-ch.js":334,"./de.js":332,"./dv":335,"./dv.js":335,"./el":336,"./el.js":336,"./en-au":337,"./en-au.js":337,"./en-ca":338,"./en-ca.js":338,"./en-gb":339,"./en-gb.js":339,"./en-ie":340,"./en-ie.js":340,"./en-il":341,"./en-il.js":341,"./en-in":342,"./en-in.js":342,"./en-nz":343,"./en-nz.js":343,"./en-sg":344,"./en-sg.js":344,"./eo":345,"./eo.js":345,"./es":346,"./es-do":347,"./es-do.js":347,"./es-us":348,"./es-us.js":348,"./es.js":346,"./et":349,"./et.js":349,"./eu":350,"./eu.js":350,"./fa":351,"./fa.js":351,"./fi":352,"./fi.js":352,"./fil":353,"./fil.js":353,"./fo":354,"./fo.js":354,"./fr":355,"./fr-ca":356,"./fr-ca.js":356,"./fr-ch":357,"./fr-ch.js":357,"./fr.js":355,"./fy":358,"./fy.js":358,"./ga":359,"./ga.js":359,"./gd":360,"./gd.js":360,"./gl":361,"./gl.js":361,"./gom-deva":362,"./gom-deva.js":362,"./gom-latn":363,"./gom-latn.js":363,"./gu":364,"./gu.js":364,"./he":365,"./he.js":365,"./hi":366,"./hi.js":366,"./hr":367,"./hr.js":367,"./hu":368,"./hu.js":368,"./hy-am":369,"./hy-am.js":369,"./id":370,"./id.js":370,"./is":371,"./is.js":371,"./it":372,"./it-ch":373,"./it-ch.js":373,"./it.js":372,"./ja":374,"./ja.js":374,"./jv":375,"./jv.js":375,"./ka":376,"./ka.js":376,"./kk":377,"./kk.js":377,"./km":378,"./km.js":378,"./kn":379,"./kn.js":379,"./ko":380,"./ko.js":380,"./ku":381,"./ku.js":381,"./ky":382,"./ky.js":382,"./lb":383,"./lb.js":383,"./lo":384,"./lo.js":384,"./lt":385,"./lt.js":385,"./lv":386,"./lv.js":386,"./me":387,"./me.js":387,"./mi":388,"./mi.js":388,"./mk":389,"./mk.js":389,"./ml":390,"./ml.js":390,"./mn":391,"./mn.js":391,"./mr":392,"./mr.js":392,"./ms":393,"./ms-my":394,"./ms-my.js":394,"./ms.js":393,"./mt":395,"./mt.js":395,"./my":396,"./my.js":396,"./nb":397,"./nb.js":397,"./ne":398,"./ne.js":398,"./nl":399,"./nl-be":400,"./nl-be.js":400,"./nl.js":399,"./nn":401,"./nn.js":401,"./oc-lnc":402,"./oc-lnc.js":402,"./pa-in":403,"./pa-in.js":403,"./pl":404,"./pl.js":404,"./pt":405,"./pt-br":406,"./pt-br.js":406,"./pt.js":405,"./ro":407,"./ro.js":407,"./ru":408,"./ru.js":408,"./sd":409,"./sd.js":409,"./se":410,"./se.js":410,"./si":411,"./si.js":411,"./sk":412,"./sk.js":412,"./sl":413,"./sl.js":413,"./sq":414,"./sq.js":414,"./sr":415,"./sr-cyrl":416,"./sr-cyrl.js":416,"./sr.js":415,"./ss":417,"./ss.js":417,"./sv":418,"./sv.js":418,"./sw":419,"./sw.js":419,"./ta":420,"./ta.js":420,"./te":421,"./te.js":421,"./tet":422,"./tet.js":422,"./tg":423,"./tg.js":423,"./th":424,"./th.js":424,"./tl-ph":425,"./tl-ph.js":425,"./tlh":426,"./tlh.js":426,"./tr":427,"./tr.js":427,"./tzl":428,"./tzl.js":428,"./tzm":429,"./tzm-latn":430,"./tzm-latn.js":430,"./tzm.js":429,"./ug-cn":431,"./ug-cn.js":431,"./uk":432,"./uk.js":432,"./ur":433,"./ur.js":433,"./uz":434,"./uz-latn":435,"./uz-latn.js":435,"./uz.js":434,"./vi":436,"./vi.js":436,"./x-pseudo":437,"./x-pseudo.js":437,"./yo":438,"./yo.js":438,"./zh-cn":439,"./zh-cn.js":439,"./zh-hk":440,"./zh-hk.js":440,"./zh-mo":441,"./zh-mo.js":441,"./zh-tw":442,"./zh-tw.js":442};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=745}},[[535,1,2]]]);
//# sourceMappingURL=app.230bb6d2.chunk.js.map